---
outline: deep
---

# 雪花算法、附件方案、邮箱验证、修改密码。

通过雪花算法生成 id

## 雪花算法

目前在 **分布式系统** 中常用的生成数据库主键算法，性能也比较高。

### 介绍

雪花算法（Snowflake Algorithm）是一种用于生成全局唯一标识符（Unique Identifier）的算法，最初由 Twitter 开发并开源。它主要用于分布式系统中，以解决在分布式环境下生成唯一 ID 的需求。

雪花算法原理就是生成一个的 64 位比特位的 long 类型的唯一 id。

- 最高 1 位固定值 0，没有意义。
- 接下来 41 位存储毫秒级时间戳，2^41/(1000606024365)=69，大概可以使用 69 年。
- 再接下 10 位存储机器码，包括 5 位 datacenterId 和 5 位 workerId。最多可以部署 2^10=1024 台机器。
- 最后 12 位存储序列号。同一毫秒时间戳时，通过这个递增的序列号来区分。即对于同一台机器而言，同一毫秒时间戳下，可以生成 2^12=4096 个不重复 id。

### node 版本算法实现 （后续加上）
